<!-- Gates of Olympus Style Slot Game - Final Clean Version -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gates of Olympus Slot</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: url('latar%20belakang.png') center/cover no-repeat fixed;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      position: relative;
    }

    .top-bar {
      width: 90vw;
      max-width: 700px;
      display: flex;
      justify-content: space-between;
      margin: 20px auto 10px;
      font-size: 18px;
      font-weight: bold;
      text-shadow: 1px 1px 3px #000;
    }

    .slot-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      grid-template-rows: repeat(5, 1fr);
      gap: 6px;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 15px;
      box-shadow: 0 0 25px gold;
      width: 90vw;
      max-width: 700px;
      aspect-ratio: 6/5;
    }

    .slot-cell {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid #fff2;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .slot-cell img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 0 6px gold);
    }

    .controls {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
      width: 90vw;
      max-width: 700px;
      margin-top: 20px;
    }

    .controls > div {
      display: flex;
      gap: 10px;
    }

    button, select {
      padding: 10px 15px;
      font-size: 14px;
      font-weight: bold;
      background: linear-gradient(#ffc107, #ff9800);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 0 10px #ffcc00;
    }

    button:hover {
      background: #ffb300;
      transform: scale(1.05);
    }

    .win-message {
      font-size: 22px;
      font-weight: bold;
      color: gold;
      text-shadow: 2px 2px 5px #000;
      animation: pop 0.5s ease-out;
      margin-top: 10px;
    }

    @keyframes pop {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div>Saldo: <span id="saldo">100000</span></div>
    <div>Bet: <span id="currentBet">400</span></div>
    <div><button onclick="topUp()">Top Up</button></div>
  </div>

  <div class="slot-grid" id="slotGrid"></div>

  <div class="controls">
    <div>
      <button onclick="decreaseBet()">-</button>
      <button onclick="increaseBet()">+</button>
      <button onclick="buyScatter()">Beli Bonus</button>
    </div>
    <div>
      <button id="spinButton" onclick="spin()">SPIN</button>
      <select id="speedSelect">
        <option value="normal">Normal Spin</option>
        <option value="fast">Fast Spin</option>
      </select>
      <select id="autoSpinSelect">
        <option value="0">Manual</option>
        <option value="10">Auto x10</option>
        <option value="30">Auto x30</option>
        <option value="50">Auto x50</option>
        <option value="100">Auto x100</option>
      </select>
    </div>
    <div class="win-message" id="winMessage"></div>
  </div>

  <script>
    let saldo = 100000;
    let currentBet = 400;
    let autoSpinCount = 0;
    let isSpinning = false;
    let isFreeSpin = false;
    let freeSpinCount = 0;
    let freeSpinTotalWin = 0;
    let currentGrid = [];

    const symbols = [
      'mahkota-removebg-preview.png',
      'jampasir-removebg-preview.png',
      'cincin-removebg-preview.png',
      'cawan-removebg-preview.png',
      'gemshijau-removebg-preview.png',
      'zeus-removebg-preview.png'
    ];

    const saldoDisplay = document.getElementById('saldo');
    const betDisplay = document.getElementById('currentBet');
    const grid = document.getElementById('slotGrid');
    const winMessage = document.getElementById('winMessage');
    const spinButton = document.getElementById('spinButton');

    function updateUI() {
      saldoDisplay.textContent = saldo;
      betDisplay.textContent = currentBet;
    }

    function topUp() {
      saldo += 100000;
      updateUI();
    }

    function increaseBet() {
      if (currentBet < 100000) currentBet += 400;
      updateUI();
    }

    function decreaseBet() {
      if (currentBet > 400) currentBet -= 400;
      updateUI();
    }

    function generateGridWithTumble() {
      currentGrid = [];
      grid.innerHTML = '';
      let scatterCount = 0;
      for (let i = 0; i < 30; i++) {
        const div = document.createElement('div');
        div.classList.add('slot-cell');
        const img = document.createElement('img');
        const sym = symbols[Math.floor(Math.random() * symbols.length)];
        img.src = sym;
        div.appendChild(img);
        grid.appendChild(div);
        currentGrid.push(sym);
        if (sym.includes('zeus')) scatterCount++;
      }
      if (scatterCount >= 4 && !isFreeSpin) {
        isFreeSpin = true;
        freeSpinCount = 12;
        freeSpinTotalWin = 0;
        alert('Kamu dapat 12 Free Spin!');
      }
    }

    function calculateWin(callback) {
      const counts = {};
      currentGrid.forEach(sym => {
        counts[sym] = (counts[sym] || 0) + 1;
      });
      let win = 0;
      for (let sym in counts) {
        if (counts[sym] >= 8 && sym !== 'zeus-removebg-preview.png') {
          const multiplier = isFreeSpin ? 10 : 6;
          win += currentBet * multiplier;
        }
      }
      if (isFreeSpin) {
        freeSpinTotalWin += win;
      } else {
        saldo += win;
      }
      let msg = '';
      if (win >= 40000) msg = 'GILE LU NDROO!';
      else if (win >= 30000) msg = 'KAMU KEREN!';
      else if (win >= 10000) msg = 'MANTAP!';
      winMessage.textContent = win > 0 ? (msg + ' +Rp' + win.toLocaleString()) : '';
      updateUI();
      setTimeout(() => {
        winMessage.textContent = '';
        if (callback) callback();
      }, 1500);
    }

    function spin() {
      if (isSpinning) return;
      if (!isFreeSpin && saldo < currentBet) {
        alert('Saldo tidak cukup!');
        return;
      }
      isSpinning = true;
      spinButton.disabled = true;
      if (!isFreeSpin) saldo -= currentBet;
      updateUI();
      generateGridWithTumble();
      const speed = document.getElementById('speedSelect').value;
      const delay = speed === 'fast' ? 500 : 1000;
      setTimeout(() => {
        calculateWin(() => {
          if (isFreeSpin) {
            freeSpinCount--;
            if (freeSpinCount > 0) {
              isSpinning = false;
              setTimeout(spin, delay);
            } else {
              saldo += freeSpinTotalWin;
              alert('Free Spin selesai! Total menang: Rp' + freeSpinTotalWin.toLocaleString());
              isFreeSpin = false;
              freeSpinTotalWin = 0;
              spinButton.disabled = false;
              isSpinning = false;
            }
          } else {
            autoSpinCount = parseInt(document.getElementById('autoSpinSelect').value);
            isSpinning = false;
            spinButton.disabled = false;
            if (autoSpinCount > 0) {
              autoSpinCount--;
              setTimeout(spin, delay);
            }
          }
        });
      }, delay);
    }

    function buyScatter() {
      const price = 30000 * (currentBet / 400);
      if (saldo < price) {
        alert('Saldo tidak cukup untuk beli scatter!');
        return;
      }
      saldo -= price;
      updateUI();
      isFreeSpin = true;
      freeSpinCount = 12;
      freeSpinTotalWin = 0;
      alert('Bonus dibeli! Free spin dimulai!');
      spin();
    }

    updateUI();
    generateGridWithTumble();
  </script>
</body>
</html>
